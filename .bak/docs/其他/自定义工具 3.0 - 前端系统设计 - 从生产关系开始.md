# 自定义工具 3.0 - 前端系统设计 - 从生产关系开始

-----

## 生产与消费关系

生产与消费关系决定商业价值。有需求，就会有满足需求的产品。作为商户，我们需要产出产品。如果高效的生产产品，是无数企业在探讨的事情。

这里先以浩云产出交付的「业务系统」为基础：

![图片描述](/tfl/pictures/202005/tapd_41909965_1590374735_60.png)

这里简单描述了「业务系统（产品）」的生产交付链路，作为自定义平台制作者，需要更关注开发与部署这部分。

-----

## 系统交互关系

在了解了生产与消费关系之后，作为研发人员，需要更关心「生产产品的系统」这部分。该系统由多个要素节点组成，也就是具体下来是很多的功能模块的集合。

系统又分为「客户端」与「服务端」这两大部分，为了搞清楚两部分是如何交互的，我们需要系统交互领域模型：

![图片描述](/tfl/pictures/202005/tapd_41909965_1590375135_71.png)

-----

## 前端设计思路

有了对系统的大概了解，我们在继续深入到前端模块部分。

前端主要负责客户端的工作。客户端是直接与用户交互的，是用户与系统服务的交互桥梁。

这里的前端模块设计，是要基于「生产消费关系」以及「前后端交互关系」的。参考 react 的设计思想：由内核驱动，更多功能通过插件的方式扩展。这样构建的生态便有了高度稳定性和扩展性。

于是前端的系统设计思路便有了方向：基础设施 -> 内核（引擎容器） -> 多个核心引擎 -> 业务代码模块 -> 多个应用 -> 聚合成业务系统客户端。

![图片描述](/tfl/pictures/202005/tapd_41909965_1590454331_73.png)

-----

## 前端模块交互关系

有了设计思路，我们继续深入客户端的模块功能划分，以及模块之间的关系：

![图片描述](/tfl/pictures/202005/tapd_41909965_1590458802_26.png)

这里详细描述了所有模块之间的关系，以及模块之间交互的链路。

-----

## 前端模块划分

最后我们按照上述思路，将所有模块整理分层：

![图片描述](/tfl/pictures/202005/tapd_41909965_1590455754_7.png)

-----

## 最后

